<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clothing</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Arial;background:#f4f4f4}
header{background:#000;color:#fff;padding:15px;text-align:center}

.search-container{background:#fff;padding:12px;position:sticky;top:0;z-index:10}
.search-box{display:flex;max-width:500px;margin:auto}
.search-box input{flex:1;padding:12px;border:1px solid #ccc;border-radius:8px 0 0 8px}
.search-box button{background:#000;color:#fff;border:none;padding:12px 18px;border-radius:0 8px 8px 0}

.products-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  padding:15px;
}

.product-card{
  background:#fff;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
  cursor:pointer;
}

.slider{display:flex;overflow-x:auto}
.slider img{width:100%}

.details{padding:12px}
.price{font-weight:bold}

.big-product{grid-column:1/-1}

.vault-btn{
  display:none;
  width:100%;
  margin-top:10px;
  padding:12px;
  background:#000;
  color:#fff;
  border:none;
  border-radius:8px;
}

.big-product .vault-btn{display:block}
.vault-btn.saved{background:green}

.order-btn{
  display:block;
  margin-top:10px;
  padding:12px;
  background:#000;
  color:#fff;
  text-align:center;
  border-radius:8px;
  text-decoration:none;
}

#vaultIcon{
  position:fixed;
  top:15px;
  right:15px;
  font-size:22px;
  cursor:pointer;
}
#vaultCount{
  background:red;
  color:#fff;
  font-size:11px;
  padding:2px 6px;
  border-radius:50%;
  position:absolute;
  top:-6px;
  right:-10px;
}
</style>
</head>

<body>

<header>Clothing</header>

<div class="search-container">
  <div class="search-box">
    <input id="searchInput" placeholder="Search shirts, jackets‚Ä¶">
    <button>üîç</button>
  </div>
</div>

<div class="products-grid" id="products">

  <div class="product-card" data-id="shirt-1" data-search="shirt cotton brown">
    <div class="slider">
      <img src="shirt1.jpg">
    </div>
    <div class="details">
      <h3>Brown Cotton Shirt</h3>
      <div class="price">‚Çπ2,199</div>
      <button class="vault-btn">‚ô° Save to Vault</button>
      <a class="order-btn" href="https://instagram.com/oneloveonelifestyle" target="_blank">Order via Instagram</a>
    </div>
  </div>

  <div class="product-card" data-id="jacket-1" data-search="jacket bomber campus">
    <div class="slider">
      <img src="jacket1.jpg">
    </div>
    <div class="details">
      <h3>Bomber Jacket</h3>
      <div class="price">‚Çπ1,999</div>
      <button class="vault-btn">‚ô° Save to Vault</button>
      <a class="order-btn" href="https://instagram.com/oneloveonelifestyle" target="_blank">Order via Instagram</a>
    </div>
  </div>

</div>

<div id="vaultIcon">üîê <span id="vaultCount">0</span></div>

<script>
const cards = document.querySelectorAll(".product-card");
const searchInput = document.getElementById("searchInput");

let vault = JSON.parse(localStorage.getItem("vault")) || [];
let allProducts = [];

cards.forEach(card=>{
  allProducts.push({id:card.dataset.id, html:card.outerHTML});
});
localStorage.setItem("allProducts", JSON.stringify(allProducts));

cards.forEach(card=>{
  const btn = card.querySelector(".vault-btn");
  const id = card.dataset.id;

  if(vault.includes(id)){
    btn.classList.add("saved");
    btn.textContent="‚úì Saved";
  }

  card.onclick=e=>{
    if(e.target.classList.contains("vault-btn")) return;
    cards.forEach(c=>c.classList.remove("big-product"));
    card.classList.add("big-product");
    card.scrollIntoView({behavior:"smooth"});
  };

  btn.onclick=e=>{
    e.stopPropagation();
    if(!vault.includes(id)){
      vault.push(id);
      localStorage.setItem("vault", JSON.stringify(vault));
      btn.classList.add("saved");
      btn.textContent="‚úì Saved";
      updateCount();
    }
  };
});

searchInput.onkeyup=()=>{
  const v=searchInput.value.toLowerCase();
  cards.forEach(card=>{
    card.style.display = card.dataset.search.includes(v) ? "" : "none";
  });
};

function updateCount(){
  document.getElementById("vaultCount").textContent=vault.length;
}
updateCount();

document.getElementById("vaultIcon").onclick=()=>{
  window.location.href="vault.html";
};
</script>

</body>
</html>
