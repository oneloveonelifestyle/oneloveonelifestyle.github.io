<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shoes | One Love One Lifestyle</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Arial;background:#f4f4f4}
header{background:#000;color:#fff;padding:15px;text-align:center;position:relative}
.home-btn{position:absolute;left:15px;top:15px;color:#fff;text-decoration:none;font-weight:bold}
.vault-icon{position:absolute;right:15px;top:15px;cursor:pointer}
.vault-count{background:red;color:#fff;font-size:12px;border-radius:50%;padding:2px 6px;margin-left:4px}

.products-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;padding:15px}
.product-card{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.1);cursor:pointer}
.slider{display:flex;overflow-x:auto}
.slider img{width:100%}
.details{padding:12px}
.details h2{font-size:15px;margin:0 0 6px}
.price{font-weight:bold;color:#b00020}
.short{font-size:13px;color:#555}

.stock-out{color:#999;font-weight:bold;font-size:14px;margin-top:6px}

.vault-btn{width:100%;margin-top:8px;padding:10px;border-radius:8px;border:1px solid #ddd;background:#fff;cursor:pointer}
.vault-btn.remove{background:#eee}

.order-btn{margin-top:8px;display:block;text-align:center;padding:10px;border-radius:8px;background:#000;color:#fff;text-decoration:none;font-weight:bold}
.order-btn.disabled{background:#ccc;pointer-events:none}
</style>
</head>

<body>

<header>
  <a href="index.html" class="home-btn">← Home</a>
  <h2>Shoes</h2>
  <div class="vault-icon" onclick="location.href='vault.html'">
    ♡ <span class="vault-count" id="vaultCount">0</span>
  </div>
</header>

<div class="products-grid" id="shoeGrid"></div>

<!-- LOAD PRODUCTS -->
<script src="products.js"></script>

<script>
const grid = document.getElementById("shoeGrid");
let vault = JSON.parse(localStorage.getItem("vault")) || [];
document.getElementById("vaultCount").textContent = vault.length;

/* ===============================
   LOAD SHOES ONLY
================================ */
PRODUCTS.filter(p => p.category === "shoes").forEach(product => {
  const card = document.createElement("div");
  card.className = "product-card";

  const inVault = vault.includes(product.id);

  card.innerHTML = `
    <div class="slider">
      ${product.images.map(i=>`<img src="${i}">`).join("")}
    </div>

    <div class="details">
      <h2>${product.title}</h2>
      <div class="price">${product.inStock ? product.price : "Out of Stock"}</div>
      <div class="short">${product.short}</div>

      ${!product.inStock ? `<div class="stock-out">Currently unavailable</div>` : ""}

      <button class="vault-btn ${inVault ? "remove":""}">
        ${inVault ? "✕ Remove from Vault" : "♡ Save to Vault"}
      </button>

      <a class="order-btn ${!product.inStock ? "disabled":""}"
         ${product.inStock ? `href="https://www.instagram.com/oneloveonelifestyle/" target="_blank"` : ""}>
        ${product.inStock ? "Buy via Instagram" : "Not Available"}
      </a>
    </div>
  `;

  /* VAULT LOGIC */
  card.querySelector(".vault-btn").onclick = e => {
    e.stopPropagation();
    if (vault.includes(product.id)) {
      vault = vault.filter(v => v !== product.id);
    } else {
      vault.push(product.id);
    }
    localStorage.setItem("vault", JSON.stringify(vault));
    location.reload();
  };

  grid.appendChild(card);
});
</script>

</body>
</html>
