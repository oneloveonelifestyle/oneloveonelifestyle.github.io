<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shoes | One Love One Lifestyle</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f4f4;
}

/* HEADER */
header{
  background:#000;
  color:#fff;
  padding:15px;
  text-align:center;
}

/* GRID */
.products-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:16px;
  padding:16px;
}

/* CARD */
.product-card{
  background:#fff;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,.12);
  position:relative;
}

/* SLIDER */
.slider{
  display:flex;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
}
.slider img{
  width:100%;
  scroll-snap-align:center;
}

/* OUT OF STOCK BADGE */
.out-badge{
  position:absolute;
  top:12px;
  left:12px;
  background:#111;
  color:#fff;
  padding:6px 10px;
  font-size:12px;
  border-radius:6px;
  font-weight:bold;
}

/* DETAILS */
.details{
  padding:14px;
}
.details h3{
  margin:0 0 10px;
  font-size:16px;
}

/* ACTIONS */
.actions{
  display:flex;
  gap:10px;
  margin-top:12px;
}

.vault-btn{
  flex:1;
  background:#eee;
  border:none;
  border-radius:8px;
  padding:10px;
  font-weight:bold;
  cursor:pointer;
}

.order-btn{
  flex:1;
  background:#000;
  color:#fff;
  text-align:center;
  padding:10px;
  border-radius:8px;
  text-decoration:none;
  font-weight:bold;
}

.order-btn.disabled{
  background:#999;
  pointer-events:none;
}
</style>
</head>

<body>

<header>
  <h2>Shoes</h2>
</header>

<div class="products-grid" id="shoeGrid"></div>

<!-- PRODUCTS DATABASE -->
<script src="products.js"></script>

<script>
/* ===============================
   VAULT
================================ */
let vault = JSON.parse(localStorage.getItem("vault")) || [];
const grid = document.getElementById("shoeGrid");

/* ===============================
   RENDER SHOES
================================ */
function renderShoes(){
  grid.innerHTML = "";

  PRODUCTS
    .filter(p => p.category === "shoe")
    .forEach(product => {

      const saved = vault.includes(product.id);

      const card = document.createElement("div");
      card.className = "product-card";

      card.innerHTML = `
        ${product.stock === 0 ? `<div class="out-badge">Out of Stock</div>` : ""}

        <div class="slider">
          ${product.images.map(img => `<img src="${img}">`).join("")}
        </div>

        <div class="details">
          <h3>${product.title}</h3>

          <div class="actions">
            <button class="vault-btn">
              ${saved ? "✓ Saved" : "♡ Save to Vault"}
            </button>

            ${
              product.stock === 1
              ? `<a class="order-btn" href="${product.orderLink}" target="_blank">Buy</a>`
              : `<div class="order-btn disabled">Unavailable</div>`
            }
          </div>
        </div>
      `;

      /* SAVE / REMOVE VAULT */
      card.querySelector(".vault-btn").addEventListener("click", e=>{
        e.stopPropagation();

        if(saved){
          vault = vault.filter(v => v !== product.id);
        }else{
          vault.push(product.id);
        }

        localStorage.setItem("vault", JSON.stringify(vault));
        renderShoes();
      });

      grid.appendChild(card);
    });
}

renderShoes();
</script>

</body>
</html>
