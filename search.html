<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Search Results | One Love One Lifestyle</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f4f4;
}

/* HEADER */
header{
  background:#000;
  color:#fff;
  padding:14px;
  text-align:center;
  position:relative;
}

.home-btn{
  position:absolute;
  left:14px;
  top:14px;
  color:#fff;
  text-decoration:none;
  font-weight:bold;
}

/* GRID */
.products-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  padding:12px;
}

.product-card{
  background:#fff;
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 3px 10px rgba(0,0,0,.08);
  cursor:pointer;
}

.slider{
  display:flex;
  overflow-x:auto;
}

.slider img{
  width:100%;
  display:block;
}

.details{
  padding:10px;
}

.details h3{
  font-size:13px;
  margin:0 0 4px;
}

.price{
  font-weight:bold;
  font-size:13px;
}

/* NO RESULTS */
.no-results{
  padding:40px 20px;
  text-align:center;
  color:#444;
}

.no-results h2{
  margin-bottom:8px;
}
</style>
</head>

<body>

<header>
  <a href="index.html" class="home-btn">← Home</a>
  <h2>Search Results</h2>
</header>

<div id="results" class="products-grid"></div>

<script src="products.js"></script>

<script>
const params = new URLSearchParams(window.location.search);
const query = (params.get("q") || "").toLowerCase().trim();

const container = document.getElementById("results");

if(!query){
  container.innerHTML =
    "<div class='no-results'><h2>No search keyword entered</h2></div>";
}else{

  const matched = [];
  const suggested = [];

  PRODUCTS.forEach(p=>{
    if(p.search && p.search.includes(query)){
      matched.push(p);
    }else{
      suggested.push(p);
    }
  });

  if(matched.length === 0){
    container.innerHTML = `
      <div class="no-results">
        <h2>No results for “${query}”</h2>
        <p>Try using different keywords or explore our suggestions below.</p>
      </div>
    `;
  }

  function render(list){
    list.forEach(product=>{
      const card = document.createElement("div");
      card.className = "product-card";

      card.innerHTML = `
        <div class="slider">
          ${product.images.map(img=>`<img src="${img}">`).join("")}
        </div>
        <div class="details">
          <h3>${product.title}</h3>
          <div class="price">${product.price}</div>
        </div>
      `;

      card.onclick = () => {
        localStorage.setItem("openProduct", product.id);

        if(product.category === "clothing"){
          location.href = "clothing.html";
        }else if(product.category === "shoe"){
          location.href = "shoes.html";
        }else{
          location.href = "accessories.html";
        }
      };

      container.appendChild(card);
    });
  }

  /* MATCHING PRODUCTS FIRST */
  render(matched);

  /* NON-MATCHING AS SUGGESTIONS */
  render(suggested);
}
</script>

</body>
</html>
